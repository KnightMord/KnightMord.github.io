---
title: '2D农场游戏“麦田物语” 与 2D解谜游戏“迷失岛”'
date: 2025-03-04
permalink: /posts/2013/08/MfarmAndIso/
---

这是两个有简易教程的项目。我在教程的基础上，增加了诸多新功能，并对代码组织模式加以改进，下面对内容进行简要展示。

麦田物语
======
该项目是一个类牧场物语/星露谷的农场经营游戏。游戏中包含了时间系统、物品系统、背包系统、种植作物系统、NPC日程系统、持久化系统。

![主页](/images/mfarm/主页.png "主页")

下面的展示包含了场景切换、种植、背包相关内容：

![场景切换](/images/mfarm/场景切换.gif "场景切换")

![种植](/images/mfarm/种植.gif "种植")

我在项目中使用UI Toolkit，制作了一个编辑器工具，可以很方便地新增/编辑游戏中的物品数据：

![物品编辑器](/images/mfarm/物品编辑器.gif "物品编辑器")

可对NPC的Schedule进行设置，令其在什么时间应该移动到什么地点做什么动作，寻路采用A*算法，h(n)采用曼哈顿距离。

![NPC日程](/images/mfarm/NPC日程.png "NPC日程")

![A星算法部分代码](/images/mfarm/A星算法部分代码.png "A星算法部分代码")

迷失岛
======
该项目是一个经典点击冒险解谜游戏。游戏包含简单的几个场景，NPC对话系统，持久化系统，以及一个小游戏，但是包含完整的框架，可以很方便地进行内容填充。

![主页](/images/iso2/主页.png "主页")

下面展示了游戏开始以及NPC对话系统。NPC的对话从表中读取而来，可灵活配置，并有文字逐渐冒出来的效果，且若多按一次会立刻完整显示出当前段落。

![进入游戏与对话](/images/iso2/进入游戏与对话.gif "进入游戏与对话")

下面展示了拿取物品交互并给予NPC的效果。

![互动](/images/iso2/互动.gif "互动")

下面是小游戏系统，小游戏关卡可自行配置（设置哪个点与哪个点相连），方便增加新的谜题设计，在游戏开始时选择周目数即可玩到不一样的小游戏关卡。

![小游戏](/images/iso2/小游戏.gif "小游戏")

![多周目小游戏](/images/iso2/多周目小游戏.png "多周目小游戏")
